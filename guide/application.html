<!DOCTYPE html>
<html lang="en">
    <head>
        <title>创建大型应用 - vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - Intuitive, Fast and Composable MVVM for building interactive interfaces.">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <!-- <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600|Lato|Inconsolata' rel='stylesheet' type='text/css'> -->
        <link rel="icon" href="/vuejs.org/images/logo.png" type="image/x-icon">
        <script>
            window.PAGE_TYPE = "guide"
        </script>
        <link rel="stylesheet" href="/vuejs.org/css/page.css" type="text/css">
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46852172-1', 'vuejs.org');
  ga('send', 'pageview');
</script>
        <script src="/vuejs.org/js/vue.min.js"></script>
    </head>
    <body>
        <div id="mobile-bar">
            <a class="menu-button"></a>
            <a class="logo" href="/vuejs.org/"></a>
        </div>
        
        
            <div id="header">
    <a id="logo" href="/vuejs.org/">
        <img src="/vuejs.org/images/logo.png">
        <span>Vue.js</span>
    </a>
    <ul id="nav">
        <li><a href="/vuejs.org/guide/" class="nav-link current">入门</a></li>
<li><a href="/vuejs.org/api/" class="nav-link">API 索引</a></li>
<li><a href="/vuejs.org/examples/" class="nav-link">示例</a></li>
<li><a href="/vuejs.org/blog/" class="nav-link">Blog</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
    </ul>
</div>
        

        <div id="main">
            
                
    <div class="sidebar">
    <ul class="main-menu">
        <li><a href="/vuejs.org/guide/" class="nav-link current">入门</a></li>
<li><a href="/vuejs.org/api/" class="nav-link">API 索引</a></li>
<li><a href="/vuejs.org/examples/" class="nav-link">示例</a></li>
<li><a href="/vuejs.org/blog/" class="nav-link">Blog</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
    </ul>
    <div class="list">
        <h2>Guide</h2>
        <ul class="menu-root">
            
                <li><a href="/vuejs.org/guide/installation.html" class="sidebar-link">安装</a></li>
            
                <li><a href="/vuejs.org/guide/index.html" class="sidebar-link">起步</a></li>
            
                <li><a href="/vuejs.org/guide/directives.html" class="sidebar-link">指令</a></li>
            
                <li><a href="/vuejs.org/guide/filters.html" class="sidebar-link">过滤器</a></li>
            
                <li><a href="/vuejs.org/guide/list.html" class="sidebar-link">列表展示</a></li>
            
                <li><a href="/vuejs.org/guide/events.html" class="sidebar-link">事件监听</a></li>
            
                <li><a href="/vuejs.org/guide/forms.html" class="sidebar-link">处理表单</a></li>
            
                <li><a href="/vuejs.org/guide/computed.html" class="sidebar-link">可推导的属性</a></li>
            
                <li><a href="/vuejs.org/guide/custom-directive.html" class="sidebar-link">自定义指令</a></li>
            
                <li><a href="/vuejs.org/guide/custom-filter.html" class="sidebar-link">自定义过滤器</a></li>
            
                <li><a href="/vuejs.org/guide/components.html" class="sidebar-link">组件系统</a></li>
            
                <li><a href="/vuejs.org/guide/transitions.html" class="sidebar-link">过渡效果</a></li>
            
                <li><a href="/vuejs.org/guide/application.html" class="sidebar-link current">创建大型应用</a></li>
            
                <li><a href="/vuejs.org/guide/extending.html" class="sidebar-link">扩展 Vue</a></li>
            
                <li><a href="/vuejs.org/guide/faq.html" class="sidebar-link">常见问题</a></li>
            
            <li><a href="http://legacy.vuejs.org">Looking for 0.10 docs?</a></li>
            <li style="margin:10px 0 3px">
              <script data-gittip-username="yyx990803"
                data-gittip-widget="button"
                src="//gttp.co/v1.js"></script>
            </li>
        </ul>
    </div>
</div>

<div class="content guide with-sidebar">
    <h1>创建大型应用</h1>
    <div id="ad">
        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs" id="_carbonads_js"></script>
    </div>
    <p>Vue.js is designed to be as flexible as possible - it’s just an interface library that doesn’t enforce any architectural decisions. While this can be very useful for rapid prototyping, it could be a challenge for those with less experience to build larger scale applications with it. The following is an opinionated perspective on how to organize larger projects when using Vue.js.</p>
<h2 id="Modularization">Modularization</h2>
<p>Although the standalone build of Vue.js can be used as a global, it is often better to utilize a modularized build system to better organize your code. The recommended approach of doing so is by writing your source code in CommonJS modules (the format used by Node.js, and also the format used by Vue.js source code) and bundle them using <a href="http://browserify.org/" target="_blank">Browserify</a> or <a href="http://webpack.github.io/" target="_blank">Webpack</a>.</p>
<p>Here are some build setup examples on GitHub:</p>
<ul>
<li><a href="https://github.com/vuejs/vue-browserify-example" target="_blank">Vue + Browserify</a></li>
<li><a href="https://github.com/vuejs/vue-webpack-example" target="_blank">Vue + Webpack</a></li>
</ul>
<h2 id="Single_File_Components">Single File Components</h2>
<p>In a typical Vue.js project we will be breaking up our code into many small components, and it would be nice to have each component encapsulate its CSS styles, template and JavaScript definition in the same place. A bonus for using the previously mentioned build tools is that they both provided mechanisms to transform the source code before bundling them together, and with a bit of pre-processing we can write our components like this:</p>
<p><img src="/images/vueify.png"></p>
<p>If you are into pre-processors, you can even do this:</p>
<p><img src="/images/vueify_with_pre.png"></p>
<p>This is achieved via using the <a href="https://github.com/vuejs/vueify" target="_blank">Vueify</a> transform for Browserify, or with <a href="https://github.com/vuejs/vue-loader" target="_blank">Vue-loader</a> for Webpack.</p>
<h2 id="Routing">Routing</h2>
<p>You can implement some rudimentary routing logic by manually listening on hashchange and utilizing a dynamic <code>v-component</code>.</p>
<p><strong>Example:</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"app"</span>&gt;</span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span>=<span class="value">"{&#123;currentView&#125;}"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
</pre></td></tr></table></figure>




<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre>Vue.component(<span class="string">'home'</span>, { <span class="comment">/* ... */</span> })
Vue.component(<span class="string">'page1'</span>, { <span class="comment">/* ... */</span> })
<span class="keyword">var</span> app = <span class="keyword">new</span> Vue({
  el: <span class="string">'#app'</span>,
  data: {
    currentView: <span class="string">'home'</span>
  }
})
<span class="comment">// Switching pages in your route handler:</span>
app.currentView = <span class="string">'page1'</span>
</pre></td></tr></table></figure>


<p>With this mechanism it’s very easy to leverage standalone routing libraries such as <a href="https://github.com/visionmedia/page.js" target="_blank">Page.js</a> or <a href="https://github.com/flatiron/director" target="_blank">Director</a>.</p>
<h2 id="Communication_with_Server">Communication with Server</h2>
<p>All Vue instances can have their raw <code>$data</code> directly serialized with <code>JSON.stringify()</code> with no additional effort. You can use any Ajax component you like, for example <a href="https://github.com/visionmedia/superagent" target="_blank">SuperAgent</a>. It also plays nicely with no-backend services such as Firebase.</p>
<h2 id="Unit_Testing">Unit Testing</h2>
<p>Anything compatible with a CommonJS-based build system works. A recommendation is using the <a href="http://karma-runner.github.io/0.12/index.html" target="_blank">Karma</a> test runner together with is <a href="https://github.com/karma-runner/karma-commonjs" target="_blank">CommonJS pre-processor</a> to test your code modually.</p>
<p>The best practice is to export raw options / functions inside modules. Consider this example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="comment">// my-component.js</span>
module.exports = {
  created: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">this</span>.message = <span class="string">'hello!'</span>
  }
}
</pre></td></tr></table></figure>


<p>You can use that file in your entry module like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="comment">// main.js</span>
<span class="keyword">var</span> Vue = <span class="built_in">require</span>(<span class="string">'vue'</span>)
<span class="keyword">var</span> app = <span class="keyword">new</span> Vue({
  el: <span class="string">'#app'</span>,
  data: { <span class="comment">/* ... */</span> },
  components: {
    <span class="string">'my-component'</span>: <span class="built_in">require</span>(<span class="string">'./my-component'</span>)
  }
})
</pre></td></tr></table></figure>


<p>And you can test that module like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="comment">// Some Jasmine 2.0 tests</span>
describe(<span class="string">'my-component'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>  
  <span class="comment">// require source module</span>
  <span class="keyword">var</span> myComponent = <span class="built_in">require</span>(<span class="string">'../src/my-component'</span>)
  it(<span class="string">'should have a created hook'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    expect(<span class="keyword">typeof</span> myComponent.created).toBe(<span class="string">'function'</span>)
  })
  it(<span class="string">'should set correct default data'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    expect(<span class="keyword">typeof</span> myComponent.data).toBe(<span class="string">'function'</span>)
    <span class="keyword">var</span> defaultData = myComponent.data()
    expect(defaultData.message).toBe(<span class="string">'hello!'</span>)
  })
})
</pre></td></tr></table></figure>


<p class="tip">Since Vue.js directives react to data updates asynchronously, when you are asserting DOM state after changing the data, you will have to do so in a <code>Vue.nextTick</code> callback. Alternatively you can set <code>Vue.config.async = false</code> during tests, so you can assert the DOM state synchronously right after the data change.</p>

<h2 id="An_Example">An Example</h2>
<p>The <a href="https://github.com/yyx990803/vue-hackernews" target="_blank">Vue.js Hackernews Clone</a> is an example application that uses Browserify + Vueify for code organization, Director.js for routing, and HackerNews’ official Firebase API as the backend. It’s by no means a big application, but it demonstrates the combined usage of the concepts discussed on this page.</p>

    <div class="footer">发现了问题或想要贡献？ <a href="https://github.com/vuejs/vuejs.org" target="_blank">来 Github 给这个网站 Fork 吧</a>！</div>
</div>
            
        </div>

        
            <script src="/vuejs.org/js/smooth-scroll.min.js"></script>
            <script src="/vuejs.org/js/common.js"></script>
        

    </body>
</html>