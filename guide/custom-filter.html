<!DOCTYPE html>
<html lang="en">
    <head>
        <title>自定义过滤器 - vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - Intuitive, Fast and Composable MVVM for building interactive interfaces.">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <!-- <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600|Lato|Inconsolata' rel='stylesheet' type='text/css'> -->
        <link rel="icon" href="/vuejs.org/images/logo.png" type="image/x-icon">
        <script>
            window.PAGE_TYPE = "guide"
        </script>
        <link rel="stylesheet" href="/vuejs.org/css/page.css" type="text/css">
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46852172-1', 'vuejs.org');
  ga('send', 'pageview');
</script>
        <script src="/vuejs.org/js/vue.min.js"></script>
    </head>
    <body>
        <div id="mobile-bar">
            <a class="menu-button"></a>
            <a class="logo" href="/vuejs.org/"></a>
        </div>
        
        
            <div id="header">
    <a id="logo" href="/vuejs.org/">
        <img src="/vuejs.org/images/logo.png">
        <span>Vue.js</span>
    </a>
    <ul id="nav">
        <li><a href="/vuejs.org/guide/" class="nav-link current">入门</a></li>
<li><a href="/vuejs.org/api/" class="nav-link">API 索引</a></li>
<li><a href="/vuejs.org/examples/" class="nav-link">示例</a></li>
<li><a href="http://vuejs.org/blog/" target="_blank" class="nav-link">Blog (英文)</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
<li><a href="http://vuejs.org/" target="_blank" class="nav-link">English</a></li>
    </ul>
</div>
        

        <div id="main">
            
                
    <div class="sidebar">
    <ul class="main-menu">
        <li><a href="/vuejs.org/guide/" class="nav-link current">入门</a></li>
<li><a href="/vuejs.org/api/" class="nav-link">API 索引</a></li>
<li><a href="/vuejs.org/examples/" class="nav-link">示例</a></li>
<li><a href="http://vuejs.org/blog/" target="_blank" class="nav-link">Blog (英文)</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
<li><a href="http://vuejs.org/" target="_blank" class="nav-link">English</a></li>
    </ul>
    <div class="list">
        <h2>Guide</h2>
        <ul class="menu-root">
            
                <li><a href="/vuejs.org/guide/installation.html" class="sidebar-link">安装</a></li>
            
                <li><a href="/vuejs.org/guide/index.html" class="sidebar-link">起步</a></li>
            
                <li><a href="/vuejs.org/guide/directives.html" class="sidebar-link">指令</a></li>
            
                <li><a href="/vuejs.org/guide/filters.html" class="sidebar-link">过滤器</a></li>
            
                <li><a href="/vuejs.org/guide/list.html" class="sidebar-link">列表展示</a></li>
            
                <li><a href="/vuejs.org/guide/events.html" class="sidebar-link">事件监听</a></li>
            
                <li><a href="/vuejs.org/guide/forms.html" class="sidebar-link">处理表单</a></li>
            
                <li><a href="/vuejs.org/guide/computed.html" class="sidebar-link">可推导的属性</a></li>
            
                <li><a href="/vuejs.org/guide/custom-directive.html" class="sidebar-link">自定义指令</a></li>
            
                <li><a href="/vuejs.org/guide/custom-filter.html" class="sidebar-link current">自定义过滤器</a></li>
            
                <li><a href="/vuejs.org/guide/components.html" class="sidebar-link">组件系统</a></li>
            
                <li><a href="/vuejs.org/guide/transitions.html" class="sidebar-link">过渡效果</a></li>
            
                <li><a href="/vuejs.org/guide/application.html" class="sidebar-link">创建大型应用</a></li>
            
                <li><a href="/vuejs.org/guide/extending.html" class="sidebar-link">扩展 Vue</a></li>
            
                <li><a href="/vuejs.org/guide/faq.html" class="sidebar-link">常见问题</a></li>
            
            <li><a href="http://legacy.vuejs.org">旧版 0.10 文档</a></li>
            <li style="margin:10px 0 3px">
              <script data-gittip-username="yyx990803"
                data-gittip-widget="button"
                src="//gttp.co/v1.js"></script>
            </li>
        </ul>
    </div>
</div>

<div class="content guide with-sidebar">
    <h1>自定义过滤器</h1>
    <div id="ad">
        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs" id="_carbonads_js"></script>
    </div>
    <h2 id="The_Basics">The Basics</h2>
<p>Similar to custom directives, you can register a custom filter with the global <code>Vue.filter()</code> method, passing in a <strong>filterID</strong> and a <strong>filter function</strong>. The filter function takes a value as the argument and returns the transformed value:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>Vue.filter(<span class="string">'reverse'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(value)</span> {</span>
  <span class="keyword">return</span> value.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)
})
</pre></td></tr></table></figure>




<figure class="highlight html"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="comment">&lt;!-- 'abc' =&gt; 'cba' --&gt;</span>
<span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-text</span>=<span class="value">"message | reverse"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span>
</pre></td></tr></table></figure>


<p>The filter function also receives any inline arguments:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>Vue.filter(<span class="string">'wrap'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(value, begin, end)</span> {</span>
  <span class="keyword">return</span> begin + value + end
})
</pre></td></tr></table></figure>




<figure class="highlight html"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="comment">&lt;!-- 'hello' =&gt; 'before hello after' --&gt;</span>
<span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-text</span>=<span class="value">"message | wrap before after"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span>
</pre></td></tr></table></figure>


<h2 id="Two-way_Filters">Two-way Filters</h2>
<p>Up till now we have used filters to transform values coming from the model and before displaying them in the view. But it is also possible to define a filter that transforms the value before it is written back to the model from the view (input elements):</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre>Vue.filter(<span class="string">'check-email'</span>, {
  <span class="comment">// read is optional in this case, it's here</span>
  <span class="comment">// just for demo purposes.</span>
  read: <span class="function"><span class="keyword">function</span> <span class="params">(val)</span> {</span>
    <span class="keyword">return</span> val
  },
  <span class="comment">// this will be invoked before writing to</span>
  <span class="comment">// the model.</span>
  write: <span class="function"><span class="keyword">function</span> <span class="params">(val, oldVal)</span> {</span>
    <span class="keyword">return</span> isEmail(val) ? val : oldVal
  }
})
</pre></td></tr></table></figure>


<h2 id="Filter_Context">Filter Context</h2>
<p>When a filter is invoked, its <code>this</code> context is set to the Vue instance that is invoking it. This allows it to output dynamic results based on the state of the owner Vue instance.</p>
<p>For example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>Vue.filter(<span class="string">'concat'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(value, key)</span> {</span>
  <span class="comment">// `this` points to the Vue instance invoking the filter</span>
  <span class="keyword">return</span> value + <span class="keyword">this</span>[key]
})
</pre></td></tr></table></figure>




<figure class="highlight html"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="tag">&lt;<span class="title">input</span> <span class="attribute">v-model</span>=<span class="value">"userInput"</span>&gt;</span>
<span class="tag">&lt;<span class="title">span</span>&gt;</span>{&#123;msg | concat userInput&#125;}<span class="tag">&lt;/<span class="title">span</span>&gt;</span>
</pre></td></tr></table></figure>


<p>For this simple example above, you can achieve the same result with just an expression, but for more complicated procedures that need more than one statements, you need to put them either in a computed property or a custom filter.</p>
<p>The built-in <code>filterBy</code> and <code>orderBy</code> filters are both filters that perform non-trivial work on the Array being passed in and relies on the current state of the owner Vue instance.</p>
<p>Alright! Now it’s time to learn how the <a href="../guide/components.html">Component System</a> works.</p>

    <div class="footer">发现了问题或想要贡献？来 Github 给 Vue.js <a href="https://github.com/vuejs/vuejs.org" target="_blank">英文站点</a>或<a href="https://github.com/Jinjiang/vuejs.org/tree/lang-zh" target="_blank">中文翻译</a>来个 Fork 吧！</div>
</div>
            
        </div>

        
            <script src="/vuejs.org/js/smooth-scroll.min.js"></script>
            <script src="/vuejs.org/js/common.js"></script>
        

    </body>
</html>